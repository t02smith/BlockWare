% chktex-file 44

\section{Benchmarking}\label{sec:benchmark}

The key benchmark to evaluate in this project is related to how game downloads scale by varying the following factors:

\begin{enumerate}
  \item how many of the peers we are connected to have the data we need,
  \item how large is the game (in terms of average file size and number of files), and
  \item the shard size used to create the hash tree.
\end{enumerate}

\subsection*{Number of Peers}

For each run, we will create a project with 500 files, each of size 80MB~\footnote{These numbers were chosen to match our average game size from Section~\ref{subsec:design-data}, where $500\times 80MB = 40GB$} and a shard size of $2^{22}$ = 4MiB. We will then run $N$ peers locally to simulate a perfect network connection.

\begin{longtable}{ | r | r | }
  \hline
  \textbf{Peer Count $N$} & \textbf{Time (ms)} \\\hline
  1
  &
  \\\hline
  2
  &
  \\\hline
  4
  &
  \\\hline
  8
  &
  \\\hline
  \caption{How varying peer count affects download speed}
\end{longtable}

\subsection*{Game Size}

For each run, we will create a project with $F$ files of size $S$MB, such that $F\times S = 40GB$, and a shard size of 4MiB. We will then run 1 peer locally to simulate a perfect network connection.

\begin{longtable}{ | r | r | r | r | }
  \hline
  \textbf{File Count $F$} & \textbf{File Size $S$ (MB)} & \textbf{Time (ms)} \\\hline
  100
  & 400
  &
  \\\hline
  50
  & 800
  &
  \\\hline
  25
  & 1,600
  &
  \\\hline
  5
  & 8,000
  &
  \\\hline
  1
  & 40,000
  &
  \\\hline
  \caption{How varying file count and size affects download speed}
\end{longtable}

\subsection*{Shard Size}

For each run we will create a new project with 500 files, each of size 80MB, and a shard size of $B$MiB. We will then run 1 peer locally to simulate a perfect network connection.

\begin{longtable}{ | r | r | }
  \hline
  \textbf{Shard Size $B$ (MiB)} & \textbf{Time (ms)} \\\hline
  1
  &
  \\\hline
  2
  &
  \\\hline
  4
  &
  \\\hline
  8
  &
  \\\hline
  16
  &
  \\\hline
  \caption{How varying the shard size of the hash tree affects download speed}
\end{longtable}