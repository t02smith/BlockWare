
\section{BitTorrent}\label{sec:bittorrent}

\paragraph*{Motivation}
The storage requirements for games make it impractical for every user to have a copy of every game. Therefore, it is important that I understand how a popular example of a peer-to-peer P2P file sharing system works when data is fragmented across the network.

\newparagraph
BitTorrent~\cite{kaune_unraveling_2010, pouwelse_bittorrent_2005} is a protocol for sharing data across a distributed network\footnote{Popular implementations include BitTorrent Web~\cite{inc_bittorrent_nodate}, qBittorrent~\cite{noauthor_qbittorrent_nodate}, and ÂµTorrent~\cite{inc_torrent_nodate}} and 
it was chosen because of its popularity, being responsible for 3.35\% of global bandwidth~\cite{noauthor_application_nodate}. 
In BitTorrent, users barter for blocks of data from a network of peers in a tit-for-tat fashion, such that users with a high upload rate will also typically have a high download rate.

\subsection*{Key Ideas}

\paragraph*{Trackers}
A tracker server keeps track of which peers have what data, which of those peers are available at, and will provide network statistics to \textit{recommend} which peers to connect to first.

\paragraph*{Block Priority}
Users will download blocks from other peers using the following priority:
\begin{enumerate}
  \item \textbf{Strict Priority} Data is split into pieces and sub-pieces where pieces are ideally downloaded together.
  \item \textbf{Rarest First} Download pieces that have the fewest copies to boost availability.
  \item \textbf{As Soon As Possible} A user with no pieces will try to get a random piece quickly so they can contribute to the network. 
\end{enumerate}

\paragraph*{Hashing}
Hashing generates a unique fingerprint of some data, which can be used to verify the integrity of it. When a user downloads a piece they generate its hash and compare it with the expected value; they can then decide to re-fetch it or not. 

\paragraph*{Optimistic Unchoking}
A peer allocates a portion of their bandwidth for communicating with unknown peers. This allows new users to join the network and be able to contribute without being ignored and gives a way for existing peers to seek better peers.

\subsection*{Availability}\label{subsec:availability}

One of the most significant issues facing BitTorrent is the availability of torrents, where \textit{`38\% of torrents become unavailable in the first month'}~\cite{kaune_unraveling_2010} and that \textit{`the majority of users disconnect from the network within a few hours after the download has finished'}~\cite{pouwelse_bittorrent_2005}.
This paper~\cite{neglia_availability_2007} looks at how the use of multiple trackers for the same content and DHTs can be used to boost availability. 
However, good availability requires users to \textit{choose} to contribute and often the built-in incentives aren't enough to encourage users to contribute for a long period of time.
