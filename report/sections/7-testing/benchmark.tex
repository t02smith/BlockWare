% chktex-file 44
\section{Benchmarking}\label{sec:benchmark}

To assert that my application is scalable \reqref{NF-S1}, I will be using a benchmark to show the download speed of a game varies depending on the number of peers a user is connected to.
\x
For each test case:

\begin{itemize}
  \item I will connect to $N$ simulated peers using the \textbf{Listen Only} profile \reqref{F-M7}.
  \item I will download the entirety of a generated directory off of those peers \reqref{F-M9} \reqref{F-M11}. The generated data will will be 40GB in size, to match the average given in Section~\ref{subsec:design-data}, and be made up of 500 files, each of size 80MB.
  \item I will run each test case three times to ensure the consistency of my results. All tests will be performed on the same machine.
\end{itemize}

\newparagraph
Table~\ref{tab:bench-peer-count} shows the results of the benchmark.

\begin{longtable}{l|llll|}
  \cline{2-5}\cline{2-5}\cline{2-5}\cline{2-5}\cline{2-5}
  & \multicolumn{4}{c|}{\hdr{Runtime (s)}}\\ \hline
  \multicolumn{1}{|l|}{\hdr{Peers}} 
  & \multicolumn{1}{l|}{\hdr{1}} 
  & \multicolumn{1}{l|}{\hdr{2}} 
  & \multicolumn{1}{l|}{\hdr{3}} & \hdr{avg.}  \\ \hline
  \multicolumn{1}{|l|}{1} & 
  \multicolumn{1}{l|}{1,513} & 
  \multicolumn{1}{l|}{1,511} & 
  \multicolumn{1}{l|}{1,511} &  
  1,512
  \\ \hline
  \multicolumn{1}{|l|}{2} & 
  \multicolumn{1}{l|}{777} & 
  \multicolumn{1}{l|}{775} & 
  \multicolumn{1}{l|}{777} &  
  776
  \\ \hline
  \multicolumn{1}{|l|}{4} & 
  \multicolumn{1}{l|}{397} & 
  \multicolumn{1}{l|}{397} & 
  \multicolumn{1}{l|}{396} &  
  397
  \\ \hline
  \multicolumn{1}{|l|}{8} & 
  \multicolumn{1}{l|}{227} & 
  \multicolumn{1}{l|}{223} & 
  \multicolumn{1}{l|}{224} &  
  225
  \\ \hline
  \caption{Download times for the same piece of data by varying the number of connected peers.}
  \label{tab:bench-peer-count}
\end{longtable}

\vspace{-4mm}
\newparagraph
This result shows us that we can massively increase the download speed by increasing the number of peers we are connected to. This shows that my application can correctly handle many concurrent peers \reqref{F-M7} and will distribute requests among many different connections to increase scalability \reqref{NF-S1}.
